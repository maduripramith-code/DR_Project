<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DIABETIC RETINOPATHY DETECTION</title>

    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            background: #040b2b; /* darker blue */
            color: white;
        }

        h1 {
            text-align: center;
            font-size: 46px;
            font-weight: 900;
            margin-bottom: 30px;
        }

        /* ===== LANDING PAGE ===== */
        #landing {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #enter-btn {
            padding: 15px 45px;
            font-size: 22px;
            background: #4fc3f7; /* sky blue */
            color: black;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        #enter-btn:hover {
            background: orange;
            color: white;
        }

        /* ===== MAIN PAGE ===== */
        #main-page {
            display: none;
            padding: 30px;
        }

        .container {
            display: flex;
            gap: 30px;
        }

        .left, .right {
            width: 50%;
            background: #07143f;
            padding: 25px;
            border-radius: 10px;
        }

        input, select {
            width: 100%;
            padding: 10px;
            margin: 8px 0 15px;
            border-radius: 5px;
            border: none;
        }

        label {
            font-weight: bold;
        }

        button.predict-btn {
            width: 100%;
            padding: 12px;
            font-size: 18px;
            background: #4fc3f7;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        button.predict-btn:hover {
            background: orange;
            color: white;
        }

        .result-box {
            background: #050f3a;
            padding: 20px;
            border-radius: 10px;
        }

        .output {
            background: #101c3d;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 15px;
            font-size: 18px;
        }
    </style>

    <script>
        function showMainPage() {
            document.getElementById("landing").style.display = "none";
            document.getElementById("main-page").style.display = "block";
        }
    </script>
</head>

<body>

<!-- ===== LANDING PAGE ===== -->
<div id="landing">
    <h1>DIABETIC RETINOPATHY DETECTION</h1>
    <button id="enter-btn" onclick="showMainPage()">ENTER</button>
</div>

<!-- ===== MAIN PAGE ===== -->
<div id="main-page">
    <h1>DIABETIC RETINOPATHY DETECTION</h1>

    <div class="container">

        <!-- ===== INPUT SECTION ===== -->
        <div class="left">
            <form method="POST" enctype="multipart/form-data">

                <label>Upload Retinal Image</label>
                <input type="file" name="image" required>

                <label>Age</label>
                <input type="number" name="age" required>

                <label>Blood Pressure</label>
                <input type="number" name="bp" required>

                <label>Glucose Level</label>
                <input type="number" name="glucose" required>

                <label>BMI</label>
                <input type="number" step="0.1" name="bmi" required>

                <label>HbA1c</label>
                <input type="number" step="0.1" name="hba1c" required>

                <label>Triglycerides</label>
                <input type="number" name="triglycerides" required>

                <label>Microalbuminuria</label>
                <input type="number" name="microalbuminuria" required>

                <label>Family History</label>
                <select name="family_history">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>

                <label>Alcohol</label>
                <select name="alcohol">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>

                <label>Smoking</label>
                <select name="smoking">
                    <option value="1">Yes</option>
                    <option value="0">No</option>
                </select>

                <label>Eye Side</label>
                <select name="eye_side">
                    <option value="0">Left</option>
                    <option value="1">Right</option>
                </select>

                <button type="submit" class="predict-btn">PREDICT</button>
            </form>
        </div>

        <!-- ===== OUTPUT SECTION ===== -->
        <div class="right">
            <div class="result-box">
                <h2>Prediction Result</h2>

                {% if stage %}
                    <p><b>Stage of Retinopathy</b></p>
                    <div class="output">{{ stage }}</div>

                    <p><b>Risk Level</b></p>
                    <div class="output">{{ risk }}</div>

                    <p><b>Safety Precautions</b></p>
                    <div class="output">{{ precautions }}</div>
                {% else %}
                    <p>Please enter patient details and click <b>PREDICT</b>.</p>
                {% endif %}
            </div>
        </div>

    </div>
</div>

</body>
</html>
